
<br />
<button (click)='decodeJwt()'>Decoder</button>
<br />

  <mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8"
   matSort matSortActive="seqNo" matSortDirection="asc" matSortDisableClear >

    <ng-container matColumnDef="ID">
      <mat-header-cell *matHeaderCellDef mat-sort-header> ID </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.id}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="DUE DATE">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Due Date</mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.due_date | date:'MM/dd/yyyy'}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="BUYER">
      <mat-header-cell *matHeaderCellDef > BUYER </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.buyer_name}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="FACTORY" class="overflow">
      <mat-header-cell *matHeaderCellDef > FACTORY </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.factory_name}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="ORDER NUMBER">
      <mat-header-cell *matHeaderCellDef > CUSTOMER ORDER ID </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.customer_order_number}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="BUYER STYLE #">
      <mat-header-cell *matHeaderCellDef > BUYER STYLE # </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.buyer_style_number}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="JP STYLE #">
      <mat-header-cell *matHeaderCellDef > JP STYLE # </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.jp_style_number}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="FACTORY SHIP DT">
      <mat-header-cell *matHeaderCellDef > Factory Ship Date </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.factory_ship_date}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="COST FROM FACTORY">
      <mat-header-cell *matHeaderCellDef > Cost From Factory </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.cost_from_factory}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="BUYER PRICE">
      <mat-header-cell *matHeaderCellDef > Price Buyer Paid </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.buyers_price}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="ORDER TYPE">
      <mat-header-cell *matHeaderCellDef > Order Type </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.order_type}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="QTY">
      <mat-header-cell *matHeaderCellDef > Quantity </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.qty}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="SWEATER IMG">
      <mat-header-cell *matHeaderCellDef > Image </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"><img src='{{order.sweater_image}}' /> </mat-cell>
    </ng-container>

    <ng-container matColumnDef="SWEATER DESCRIPTION" class="overflow">
      <mat-header-cell *matHeaderCellDef > DESCRIPTION </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.sweater_description}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="BRAND">
      <mat-header-cell *matHeaderCellDef > Brand </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.brand}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="FIBER CONTENT" class="overflow">
      <mat-header-cell *matHeaderCellDef > Fiber Content </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.fiber_content}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="COLOR">
      <mat-header-cell *matHeaderCellDef > Color </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let order"> {{order.color}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="UPDATE">
      <mat-header-cell *matHeaderCellDef > Update </mat-header-cell>
      <mat-cell mat-cell  *matCellDef="let order"> <button mat-raised-button (click)="openUpdateDialog(order.id)">Update</button></mat-cell>
    </ng-container>

    <ng-container matColumnDef="TASKS">
      <mat-header-cell *matHeaderCellDef > Tasks </mat-header-cell>
      <mat-cell mat-cell  *matCellDef="let order"> <button mat-raised-button (click)="openModal('task-modal', order.id)">Add Task</button></mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayColumns" ></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayColumns;" (click)="onRowClicked(row)"></mat-row>
  </mat-table>




<modal id="task-modal">
  <div class="modal">
    <div class="modal-body">
      <app-task [databaseId]="databaseId" [ordertask]="orderTask"></app-task>
      <button (click)="closeModal('custom-modal-1');">Close</button>
    </div>
  </div>
<div class="modal-background"></div>
</modal>

<modal id="custom-modal-1">
  <div class="modal">
      <div class="modal-body">
          <h1>A Custom Modal!</h1>
          <p>
              Home page text: <input type="text" [(ngModel)]="bodyText" />
          </p>
          <button (click)="closeModal('custom-modal-1');">Close</button>
      </div>
  </div>
  <div class="modal-background"></div>
</modal>