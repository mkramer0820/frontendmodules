<div *ngIf="message">
  {{message | json}}

</div>
<br />
<button (click)='decodeJwt()'>Decoder</button>
<br />
<div>
  <mat-table [dataSource]="orders" matSort class="mat-elevation-z8" >

    <ng-container matColumnDef="ID">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
      <td mat-cell *matCellDef="let order"> {{order.id}} </td>
    </ng-container>

    <ng-container matColumnDef="BUYER">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> BUYER </th>
      <td mat-cell *matCellDef="let order"> {{order.buyer_name}} </td>
    </ng-container>

    <ng-container matColumnDef="FACTORY" class="overflow">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> FACTORY </th>
      <td mat-cell *matCellDef="let order"> {{order.factory_name}} </td>
    </ng-container>

    <ng-container matColumnDef="ORDER NUMBER">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> CUSTOMER ORDER ID </th>
      <td mat-cell *matCellDef="let order"> {{order.customer_order_number}} </td>
    </ng-container>

    <ng-container matColumnDef="BUYER STYLE #">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> BUYER STYLE # </th>
      <td mat-cell *matCellDef="let order"> {{order.buyer_style_number}} </td>
    </ng-container>

    <ng-container matColumnDef="JP STYLE #">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> JP STYLE # </th>
      <td mat-cell *matCellDef="let order"> {{order.jp_style_number}} </td>
    </ng-container>

    <ng-container matColumnDef="FACTORY SHIP DT">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Factory Ship Date </th>
      <td mat-cell *matCellDef="let order"> {{order.factory_ship_date}} </td>
    </ng-container>

    <ng-container matColumnDef="COST FROM FACTORY">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Cost From Factory </th>
      <td mat-cell *matCellDef="let order"> {{order.cost_from_factory}} </td>
    </ng-container>

    <ng-container matColumnDef="BUYER PRICE">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Price Buyer Paid </th>
      <td mat-cell *matCellDef="let order"> {{order.buyers_price}} </td>
    </ng-container>

    <ng-container matColumnDef="ORDER TYPE">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Order Type </th>
      <td mat-cell *matCellDef="let order"> {{order.order_type}} </td>
    </ng-container>

    <ng-container matColumnDef="QTY">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Quantity </th>
      <td mat-cell *matCellDef="let order"> {{order.qty}} </td>
    </ng-container>

    <ng-container matColumnDef="SWEATER IMG">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Image </th>
      <td mat-cell *matCellDef="let order"><img src='{{order.sweater_image}}' /> </td>
    </ng-container>

    <ng-container matColumnDef="SWEATER DESCRIPTION" class="overflow">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> DESCRIPTION </th>
      <td mat-cell *matCellDef="let order"> {{order.sweater_description}} </td>
    </ng-container>

    <ng-container matColumnDef="BRAND">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Brand </th>
      <td mat-cell *matCellDef="let order"> {{order.brand}} </td>
    </ng-container>

    <ng-container matColumnDef="FIBER CONTENT" class="overflow">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Fiber Content </th>
      <td mat-cell *matCellDef="let order"> {{order.fiber_content}} </td>
    </ng-container>

      <ng-container matColumnDef="COLOR">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Color </th>
      <td mat-cell *matCellDef="let order"> {{order.color}} </td>
    </ng-container>

    <ng-container matColumnDef="UPDATE">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Update </th>
      <td mat-cell  *matCellDef="let order"> <button mat-raised-button (click)="openUpdateDialog(order.id)">Update</button></td>
    </ng-container>

    <ng-container matColumnDef="TASKS">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Tasks </th>
      <td mat-cell  *matCellDef="let order"> <button mat-raised-button (click)="openModal('task-modal', order.id)">Add Task</button></td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
  </mat-table>
</div>
<div *ngFor='let item of dataSource'>
  test
  {{item}}
</div>



<modal id="task-modal">
  <div class="modal">
    <div class="modal-body">
      <app-task [databaseId]="databaseId" [ordertask]="orderTask"></app-task>
      <button (click)="closeModal('custom-modal-1');">Close</button>
    </div>
  </div>
<div class="modal-background"></div>
</modal>

<modal id="custom-modal-1">
  <div class="modal">
      <div class="modal-body">
          <h1>A Custom Modal!</h1>
          <p>
              Home page text: <input type="text" [(ngModel)]="bodyText" />
          </p>
          <button (click)="closeModal('custom-modal-1');">Close</button>
      </div>
  </div>
  <div class="modal-background"></div>
</modal>